{"version":3,"sources":["components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/Preview/Preview.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js","components/Preview/Preview.module.css","views/RegisterView/RegisterView.module.css","views/LoginView/LoginView.module.css","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","redux/contacts/contacts-reducer.js","components/UserMenu/UserMenu.module.css","redux/contacts/contacts-actions.js","components/UserMenu/Avatar.js","components/Loader/Loader.js","components/AppBar/AppBar.module.css","components/Loader/Loader.module.css","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","components/Container/Container.js","components/Container/Container.module.css","views/RegisterView/RegisterView.js","views/LoginView/LoginView.js","redux/auth/auth-actions.js","redux/auth/auth-operations.js","redux/auth/auth-reducer.js","redux/auth/auth-selectors.js"],"names":["Navigation","className","style","nav","to","exact","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","name","useSelector","authSelectors","getUserName","symbol","stringAvatar","children","bgcolor","container","avatar","button","type","onClick","authOperations","logOut","AuthNav","activeStyle","AppBar","isLoggedIn","getIsLoggedIn","header","logo","alt","src","Preview","useState","window","setWindow","backdrop","backdrop2","backdrop3","content","modal","btnBox","btnActive","RegisterView","LoginView","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","ContactsView","App","isFetchingCurrentUser","isLoadingContacts","contactsSelectors","getLoading","useEffect","getCurrentUser","Loader","Container","fallback","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","module","exports","items","createReducer","fetchContactsSuccess","_","payload","addContactSuccess","state","deleteContactSuccess","filter","id","fetchContactsRequest","fetchContactsError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","changeFilter","error","action","combineReducers","createAction","stringToColor","string","hash","i","replace","length","charCodeAt","color","toString","substr","trim","split","sx","backgroundColor","size","loader","axios","defaults","baseURL","ContactsOperations","fetchContacts","a","get","data","message","addContact","number","contact","favorite","post","then","catch","deleteContact","contactId","delete","getFilter","getAllContacts","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","includes","getError","getTotalContactCount","styles","setName","email","setEmail","password","setPassword","handleChange","target","value","title","onSubmit","e","preventDefault","register","form","autoComplete","label","input","onChange","placeholder","logIn","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","token","headers","common","Authorization","credentials","authActions","toast","getState","persistedToken","initialUserState","user","isAuthenticated"],"mappings":"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","file":"static/js/main.98d85471.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport style from \"./Navigation.module.css\";\n\nconst Navigation = () => (\n  <nav className={style.nav}>\n    <NavLink\n      to=\"/\"\n      exact\n      className={style.link}\n      activeClassName={style.activeLink}\n    >\n      Home\n    </NavLink>\n\n    <NavLink\n      to=\"/contacts\"\n      exact\n      className={style.link}\n      activeClassName={style.activeLink}\n    >\n      Phonebook\n    </NavLink>\n  </nav>\n);\n\nexport default Navigation;\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { authSelectors, authOperations } from \"../../redux/auth\";\nimport stringAvatar from \"./Avatar\";\nimport style from \"./UserMenu.module.css\";\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n  const symbol = stringAvatar(name).children;\n  const bgcolor = stringAvatar(name).style;\n\n  return (\n    <div className={style.container}>\n      <div style={bgcolor} className={style.avatar}>\n        <span>{symbol}</span>\n      </div>\n      <button\n        className={style.button}\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Log Out\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport style from \"./AuthNav.module.css\";\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={style.link}\n        activeStyle={style.activeLink}\n      >\n        Sign In\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={style.link}\n        activeStyle={style.activeLink}\n      >\n        Log In\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport Navigation from \"../Navigation\";\nimport UserMenu from \"../UserMenu\";\nimport AuthNav from \"../AuthNav\";\nimport { authSelectors } from \"../../redux/auth\";\nimport style from \"./AppBar.module.css\";\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <header className={style.header}>\n      <NavLink to=\"/\" exact className={style.logo}>\n        <img\n          alt=\"avatar\"\n          src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcReK6pUGk66nxuoUjAgPyXQ55neCkfFdO8EDjah4hqBn_-VrQKYo5oI_citL5mS9_ZWgaQ&usqp=CAU\"\n        />\n        Phonebook\n      </NavLink>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import style from \"./Preview.module.css\";\nimport { useState, React } from \"react\";\nimport RegisterView from \"../../views/RegisterView\";\nimport LoginView from \"../../views/LoginView\";\n\nexport default function Preview() {\n  const [window, setWindow] = useState(\"register\");\n  return (\n    <>\n      <div className={style.backdrop}></div>\n      <div className={style.backdrop2}></div>\n      <div className={style.backdrop3}></div>\n      <div className={style.content}>\n        <div className={style.modal}>\n          <div className={style.btnBox}>\n            <button\n              onClick={() => setWindow(\"register\")}\n              type=\"button\"\n              className={\n                window === \"register\" ? `${style.btnActive}` : `${style.button}`\n              }\n            >\n              SignIn\n            </button>\n            <button\n              onClick={() => setWindow(\"login\")}\n              className={\n                window === \"login\" ? `${style.btnActive}` : `${style.button}`\n              }\n              type=\"button\"\n            >\n              LogIn\n            </button>\n          </div>\n          {window === \"register\" ? <RegisterView /> : <LoginView />}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/auth\";\n\n/**\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\n * - В противном случае рендерит компонент\n *\n */\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { useEffect, Suspense, lazy } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar\";\nimport Loader from \"./components/Loader\";\nimport Container from \"./components/Container\";\nimport Preview from \"./components/Preview\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport { authOperations, authSelectors } from \"./redux/auth\";\nimport { contactsSelectors } from \"./redux/contacts\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactView\"));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsLoggedIn);\n  const isLoadingContacts = useSelector(contactsSelectors.getLoading);\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n  return (\n    <>\n      {isLoadingContacts && <Loader />}\n      {isFetchingCurrentUser ? (\n        <>\n          <AppBar />\n          <Container>\n            <Switch>\n              <Suspense fallback={<Loader />}>\n                <PublicRoute exact path=\"/\">\n                  <HomeView />\n                </PublicRoute>\n                <PublicRoute exact path=\"/register\" restricted>\n                  <RegisterView />\n                </PublicRoute>\n                <PublicRoute\n                  exact\n                  path=\"/login\"\n                  redirectTo=\"/contacts\"\n                  restricted\n                >\n                  <LoginView />\n                </PublicRoute>\n                <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                  <ContactsView />\n                </PrivateRoute>\n              </Suspense>\n            </Switch>\n          </Container>\n        </>\n      ) : (\n        <Preview />\n      )}\n    </>\n  );\n}\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport contactsReducer from \"./contacts/contacts-reducer\";\nimport { authReducer } from \"./auth\";\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport const persistor = persistStore(store);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport App from \"./App\";\nimport { store, persistor } from \"./redux/store\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Preview_backdrop__2l7QU\",\"backdrop2\":\"Preview_backdrop2__2o8lY\",\"backdrop3\":\"Preview_backdrop3__noyBl\",\"slide\":\"Preview_slide__3b-00\",\"content\":\"Preview_content__2bnu2\",\"modal\":\"Preview_modal__3sYC_\",\"btnBox\":\"Preview_btnBox__1ACEt\",\"button\":\"Preview_button__1xPFi\",\"btnActive\":\"Preview_btnActive__2mONn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"RegisterView_label__3FXZM\",\"content\":\"RegisterView_content__2zTRO\",\"title\":\"RegisterView_title__3fvKf\",\"input\":\"RegisterView_input__1haMV\",\"button\":\"RegisterView_button__xljmR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"LoginView_label__8gyhF\",\"content\":\"LoginView_content__2nJzu\",\"title\":\"LoginView_title__KnQI_\",\"input\":\"LoginView_input__2dcla\",\"button\":\"LoginView_button__2FJOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__INfuO\",\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB Navigation_link__12o2K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2ejsg\",\"activeLink\":\"AuthNav_activeLink__3huQJ\"};","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n} from \"./contacts-actions\";\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer(\"\", {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsError]: (state, action) => action.payload,\n  [fetchContactsRequest]: () => null,\n  [addContactRequest]: () => null,\n  [deleteContactRequest]: () => null,\n  [deleteContactError]: (state, action) => action.payload,\n  [addContactError]: (state, action) => action.payload,\n});\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"UserMenu_avatar__2e7Jj\",\"container\":\"UserMenu_container__GgYhE\",\"button\":\"UserMenu_button__3mTE-\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchContactsRequest = createAction(\n  \"contacts/fetchContactsRequest\"\n);\nexport const fetchContactsSuccess = createAction(\n  \"contacts/fetchContactsSuccess\"\n);\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\n\nexport const addContactRequest = createAction(\"contacts/addContactRequest\");\nexport const addContactSuccess = createAction(\"contacts/addContactsuccess\");\nexport const addContactError = createAction(\"contacts/addContactError\");\n\nexport const deleteContactRequest = createAction(\n  \"contacts/deleteContactRequest\"\n);\nexport const deleteContactSuccess = createAction(\n  \"contacts/deleteContactsuccess\"\n);\nexport const deleteContactError = createAction(\"contacts/deleteContactError\");\n\nexport const changeFilter = createAction(\"contacts/changeFilter\");\n","function stringToColor(string) {\n  let hash = 0;\n  for (let i = 0; i < string.replace(/\\s+/g, \"\").length; i += 1) {\n    hash = string.replace(/\\s+/g, \"\").charCodeAt(i) + ((hash << 5) - hash);\n  }\n\n  let color = \"#\";\n\n  for (let i = 0; i < 3; i += 1) {\n    const value = (hash >> (i * 8)) & 0xff;\n    color += `00${value.toString(16)}`.substr(-2);\n  }\n  return color;\n}\n\nexport default function stringAvatar(name) {\n  if (name.trim().split(\" \").length > 1) {\n    return {\n      sx: {\n        backgroundColor: stringToColor(name),\n      },\n      children: `${name.split(\" \")[0][0]}${name.split(\" \")[1][0]}`,\n    };\n  } else {\n    return {\n      style: {\n        backgroundColor: stringToColor(name),\n      },\n      children: `${name.split(\" \")[0][0]}`,\n    };\n  }\n}\n","import { ImSpinner } from \"react-icons/im\";\nimport style from \"./Loader.module.css\";\n\nexport default function Loader() {\n  return (\n    <div className={style.backdrop}>\n      <ImSpinner size=\"32\" className={style.loader} />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\",\"logo\":\"AppBar_logo__2tQmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Loader_backdrop__2aLUo\",\"loader\":\"Loader_loader__1j2Bs\",\"spinner\":\"Loader_spinner__1oBcK\"};","import axios from \"axios\";\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n} from \"./contacts-actions\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com/\";\n\nconst fetchContacts = () => async (dispatch) => {\n  dispatch(fetchContactsRequest());\n\n  try {\n    const { data } = await axios.get(\"/contacts\");\n\n    dispatch(fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error.message));\n  }\n};\n\nconst addContact = ({ name, number }) => (dispatch) => {\n  const contact = {\n    name,\n    number,\n    favorite: false,\n  };\n  dispatch(addContactRequest());\n\n  axios\n    .post(\"/contacts\", contact)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch((error) => dispatch(addContactError(error.message)));\n};\n\nconst deleteContact = (contactId) => (dispatch) => {\n  dispatch(deleteContactRequest());\n\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(deleteContactSuccess(contactId)))\n    .catch((error) => dispatch(deleteContactError(error.message)));\n};\nconst ContactsOperations = {\n  fetchContacts,\n  addContact,\n  deleteContact,\n};\nexport default ContactsOperations;\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nconst getLoading = (state) => state.contacts.loading;\nconst getFilter = (state) => state.contacts.filter;\nconst getError = (state) => state.contacts.error;\nconst getAllContacts = (state) => state.contacts.items;\n\nconst getTotalContactCount = (state) => {\n  const contacts = getAllContacts(state);\n  return contacts.length;\n};\n\nconst getVisibleContacts = createSelector(\n  [getAllContacts, getFilter],\n  (contacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(({ name }) =>\n      name.toLowerCase().includes(normalizedFilter)\n    );\n  }\n);\n\nconst contactsSelectors = {\n  getLoading,\n  getFilter,\n  getError,\n  getAllContacts,\n  getVisibleContacts,\n  getTotalContactCount,\n};\nexport default contactsSelectors;\n","import PropTypes from \"prop-types\";\nimport styles from \"./Container.module.css\";\n\nfunction Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { authOperations } from \"../../redux/auth\";\nimport style from \"./RegisterView.module.css\";\nexport default function RegisterView() {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case \"name\":\n        return setName(value);\n      case \"email\":\n        return setEmail(value);\n      case \"password\":\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(authOperations.register({ name, email, password }));\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className={style.content}>\n      <h1 className={style.title}>Sign In</h1>\n\n      <form onSubmit={handleSubmit} className={style.form} autoComplete=\"on\">\n        <label className={style.label}>\n          Name\n          <input\n            className={style.input}\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            onChange={handleChange}\n            placeholder=\"Username\"\n          />\n        </label>\n\n        <label className={style.label}>\n          Email\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            className={style.input}\n            onChange={handleChange}\n            placeholder=\"example@gmail.com\"\n          />\n        </label>\n\n        <label className={style.label}>\n          Password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            className={style.input}\n            onChange={handleChange}\n            placeholder=\"Minimum of 8 characters\"\n          />\n        </label>\n\n        <button type=\"submit\" className={style.button}>\n          Sign In\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { authOperations } from \"../../redux/auth\";\nimport style from \"./LoginView.module.css\";\nexport default function LoginView() {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case \"email\":\n        return setEmail(value);\n      case \"password\":\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(authOperations.logIn({ email, password }));\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <div className={style.content}>\n      <h1 className={style.title}>Log In</h1>\n\n      <form onSubmit={handleSubmit} className={style.form} autoComplete=\"on\">\n        <label className={style.label}>\n          Email\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            className={style.input}\n            onChange={handleChange}\n            placeholder=\"example@gmail.com\"\n          />\n        </label>\n\n        <label className={style.label}>\n          Password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            className={style.input}\n            onChange={handleChange}\n            placeholder=\"Minimum of 8 characters\"\n          />\n        </label>\n\n        <button className={style.button} type=\"submit\">\n          Log In\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\n// eslint-disable-next-line\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n\n  loginRequest,\n  loginSuccess,\n  loginError,\n\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\n// Обьект токена\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\n// Операция регистрации юзера\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n\n    token.set(data.token);\n    dispatch(authActions.registerSuccess(data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n    toast.error(error.message);\n  }\n};\n\n// Операция авторизации юзера\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n\n    token.set(data.token);\n    dispatch(authActions.loginSuccess(data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n    toast.error(error.message);\n  }\n};\n\n// Операция выхода из профиля\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n    toast.error(error.message);\n  }\n};\n\n// Операция получения текущего пользователя (проверяем локальное хранилище через персист)\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) return;\n\n  token.set(persistedToken);\n\n  dispatch(authActions.getCurrentUserRequest());\n\n  try {\n    const { data } = await axios.get('/users/current');\n\n    dispatch(authActions.getCurrentUserSuccess(data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n    toast.error(error.message);\n  }\n};\n\n// eslint-disable-next-line\nexport default { register, logIn, logOut, getCurrentUser };\n","import { combineReducers, createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst initialUserState = {\n  name: null,\n  email: null,\n};\n\n// Редюсер для регистрации, авторизации и выхода из профиля\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\n// Редюсер для токенов\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\n// Редюсер для индикации авторизации\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n\n  [authActions.logoutSuccess]: () => false,\n});\n\n// Обработку ошибок можно абстрагировать\n// const setError = (_, { payload }) => payload;\n\n// Редюсер для обработки ошибок\nconst error = createReducer(null, {\n  [authActions.registerError]: (_, { payload }) => payload,\n  [authActions.loginError]: (_, { payload }) => payload,\n  [authActions.logoutError]: (_, { payload }) => payload,\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\n});\n\nexport default combineReducers({\n  user,\n  token,\n  isAuthenticated,\n  error,\n});\n","const getIsLoggedIn = (state) => state.auth.isAuthenticated;\n\nconst getUserName = (state) => state.auth.user.name;\n\n// eslint-disable-next-line\nexport default { getIsLoggedIn, getUserName };\n"],"sourceRoot":""}