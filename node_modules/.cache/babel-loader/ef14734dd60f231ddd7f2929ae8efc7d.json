{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{useEffect,Suspense,lazy,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Switch}from\"react-router-dom\";import AppBar from\"./components/AppBar/AppBar\";import Container from\"./components/Container\";import Preview from\"./components/Preview\";import PrivateRoute from\"./components/PrivateRoute\";import PublicRoute from\"./components/PublicRoute\";import{authOperations,authSelectors}from\"./redux/auth\";var HomeView=/*#__PURE__*/lazy(function(){return import(\"./views/HomeView\");});var RegisterView=/*#__PURE__*/lazy(function(){return import(\"./views/RegisterView\");});var LoginView=/*#__PURE__*/lazy(function(){return import(\"./views/LoginView\");});var ContactsView=/*#__PURE__*/lazy(function(){return import(\"./views/ContactView\");});export default function App(){var dispatch=useDispatch();var isFetchingCurrentUser=useSelector(authSelectors.getIsLoggedIn);useEffect(function(){dispatch(authOperations.getCurrentUser());},[dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:!isFetchingCurrentUser?/*#__PURE__*/_jsx(Preview,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C...\"}),children:[/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(HomeView,{})}),/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/register\",restricted:true,children:/*#__PURE__*/_jsx(RegisterView,{})}),/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/login\",redirectTo:\"/contacts\",restricted:true,children:/*#__PURE__*/_jsx(LoginView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/contacts\",redirectTo:\"/login\",children:/*#__PURE__*/_jsx(ContactsView,{})})]})})})]})});}","map":{"version":3,"sources":["/Users/sofiaprotsiv/Documents/projects go it/goit-react-hw-08-phonebook/src/App.js"],"names":["useEffect","Suspense","lazy","useState","useDispatch","useSelector","Switch","AppBar","Container","Preview","PrivateRoute","PublicRoute","authOperations","authSelectors","HomeView","RegisterView","LoginView","ContactsView","App","dispatch","isFetchingCurrentUser","getIsLoggedIn","getCurrentUser"],"mappings":"6IAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,IAA9B,CAAoCC,QAApC,KAAoD,OAApD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,cAA9C,CAEA,GAAMC,CAAAA,QAAQ,cAAGZ,IAAI,CAAC,iBAAM,QAAO,kBAAP,CAAN,EAAD,CAArB,CACA,GAAMa,CAAAA,YAAY,cAAGb,IAAI,CAAC,iBAAM,QAAO,sBAAP,CAAN,EAAD,CAAzB,CACA,GAAMc,CAAAA,SAAS,cAAGd,IAAI,CAAC,iBAAM,QAAO,mBAAP,CAAN,EAAD,CAAtB,CACA,GAAMe,CAAAA,YAAY,cAAGf,IAAI,CAAC,iBAAM,QAAO,qBAAP,CAAN,EAAD,CAAzB,CAEA,cAAe,SAASgB,CAAAA,GAAT,EAAe,CAC5B,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,CAAAA,qBAAqB,CAAGf,WAAW,CAACQ,aAAa,CAACQ,aAAf,CAAzC,CACArB,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACP,cAAc,CAACU,cAAf,EAAD,CAAR,CACD,CAFQ,CAEN,CAACH,QAAD,CAFM,CAAT,CAGA,mBACE,yBACG,CAACC,qBAAD,cACC,KAAC,OAAD,IADD,cAGC,wCACE,KAAC,MAAD,IADF,cAEE,KAAC,SAAD,wBACE,KAAC,MAAD,wBACE,MAAC,QAAD,EAAU,QAAQ,cAAE,gFAApB,wBACE,KAAC,WAAD,EAAa,KAAK,KAAlB,CAAmB,IAAI,CAAC,GAAxB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,KAAC,WAAD,EAAa,KAAK,KAAlB,CAAmB,IAAI,CAAC,WAAxB,CAAoC,UAAU,KAA9C,uBACE,KAAC,YAAD,IADF,EAJF,cAOE,KAAC,WAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,QAFP,CAGE,UAAU,CAAC,WAHb,CAIE,UAAU,KAJZ,uBAME,KAAC,SAAD,IANF,EAPF,cAeE,KAAC,YAAD,EAAc,IAAI,CAAC,WAAnB,CAA+B,UAAU,CAAC,QAA1C,uBACE,KAAC,YAAD,IADF,EAfF,GADF,EADF,EAFF,GAJJ,EADF,CAkCD","sourcesContent":["import { useEffect, Suspense, lazy, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar/AppBar\";\nimport Container from \"./components/Container\";\nimport Preview from \"./components/Preview\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport { authOperations, authSelectors } from \"./redux/auth\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactView\"));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsLoggedIn);\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n  return (\n    <>\n      {!isFetchingCurrentUser ? (\n        <Preview />\n      ) : (\n        <>\n          <AppBar />\n          <Container>\n            <Switch>\n              <Suspense fallback={<p>Загружаем...</p>}>\n                <PublicRoute exact path=\"/\">\n                  <HomeView />\n                </PublicRoute>\n                <PublicRoute exact path=\"/register\" restricted>\n                  <RegisterView />\n                </PublicRoute>\n                <PublicRoute\n                  exact\n                  path=\"/login\"\n                  redirectTo=\"/contacts\"\n                  restricted\n                >\n                  <LoginView />\n                </PublicRoute>\n                <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                  <ContactsView />\n                </PrivateRoute>\n              </Suspense>\n            </Switch>\n          </Container>\n        </>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}