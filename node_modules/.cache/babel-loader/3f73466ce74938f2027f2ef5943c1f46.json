{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{useEffect,Suspense,lazy}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Switch}from\"react-router-dom\";import AppBar from\"./components/AppBar\";import Loader from\"./components/Loader\";import Container from\"./components/Container\";import Preview from\"./components/Preview\";import PrivateRoute from\"./components/PrivateRoute\";import PublicRoute from\"./components/PublicRoute\";import{authOperations,authSelectors}from\"./redux/auth\";import{contactsSelectors}from\"./redux/contacts\";var HomeView=/*#__PURE__*/lazy(function(){return import(\"./views/HomeView\");});var RegisterView=/*#__PURE__*/lazy(function(){return import(\"./views/RegisterView\");});var LoginView=/*#__PURE__*/lazy(function(){return import(\"./views/LoginView\");});var ContactsView=/*#__PURE__*/lazy(function(){return import(\"./views/ContactView\");});export default function App(){var dispatch=useDispatch();var isFetchingCurrentUser=useSelector(authSelectors.getIsLoggedIn);var isLoadingContacts=useSelector(contactsSelectors.getLoading);useEffect(function(){dispatch(authOperations.getCurrentUser());},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoadingContacts&&/*#__PURE__*/_jsx(Loader,{}),isFetchingCurrentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:[/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(HomeView,{})}),/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/register\",restricted:true,children:/*#__PURE__*/_jsx(RegisterView,{})}),/*#__PURE__*/_jsx(PublicRoute,{exact:true,path:\"/login\",redirectTo:\"/contacts\",restricted:true,children:/*#__PURE__*/_jsx(LoginView,{})}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/contacts\",redirectTo:\"/login\",children:/*#__PURE__*/_jsx(ContactsView,{})})]})})})]}):/*#__PURE__*/_jsx(Preview,{})]});}","map":{"version":3,"sources":["/Users/sofiaprotsiv/Documents/projects go it/goit-react-hw-08-phonebook/src/App.js"],"names":["useEffect","Suspense","lazy","useDispatch","useSelector","Switch","AppBar","Loader","Container","Preview","PrivateRoute","PublicRoute","authOperations","authSelectors","contactsSelectors","HomeView","RegisterView","LoginView","ContactsView","App","dispatch","isFetchingCurrentUser","getIsLoggedIn","isLoadingContacts","getLoading","getCurrentUser"],"mappings":"6IAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,IAA9B,KAA0C,OAA1C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,cAA9C,CACA,OAASC,iBAAT,KAAkC,kBAAlC,CAEA,GAAMC,CAAAA,QAAQ,cAAGb,IAAI,CAAC,iBAAM,QAAO,kBAAP,CAAN,EAAD,CAArB,CACA,GAAMc,CAAAA,YAAY,cAAGd,IAAI,CAAC,iBAAM,QAAO,sBAAP,CAAN,EAAD,CAAzB,CACA,GAAMe,CAAAA,SAAS,cAAGf,IAAI,CAAC,iBAAM,QAAO,mBAAP,CAAN,EAAD,CAAtB,CACA,GAAMgB,CAAAA,YAAY,cAAGhB,IAAI,CAAC,iBAAM,QAAO,qBAAP,CAAN,EAAD,CAAzB,CAEA,cAAe,SAASiB,CAAAA,GAAT,EAAe,CAC5B,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,CAAAA,qBAAqB,CAAGjB,WAAW,CAACS,aAAa,CAACS,aAAf,CAAzC,CACA,GAAMC,CAAAA,iBAAiB,CAAGnB,WAAW,CAACU,iBAAiB,CAACU,UAAnB,CAArC,CACAxB,SAAS,CAAC,UAAM,CACdoB,QAAQ,CAACR,cAAc,CAACa,cAAf,EAAD,CAAR,CACD,CAFQ,CAEN,CAACL,QAAD,CAFM,CAAT,CAGA,mBACE,2BACGG,iBAAiB,eAAI,KAAC,MAAD,IADxB,CAEGF,qBAAqB,cACpB,wCACE,KAAC,MAAD,IADF,cAEE,KAAC,SAAD,wBACE,KAAC,MAAD,wBACE,MAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,MAAD,IAApB,wBACE,KAAC,WAAD,EAAa,KAAK,KAAlB,CAAmB,IAAI,CAAC,GAAxB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,KAAC,WAAD,EAAa,KAAK,KAAlB,CAAmB,IAAI,CAAC,WAAxB,CAAoC,UAAU,KAA9C,uBACE,KAAC,YAAD,IADF,EAJF,cAOE,KAAC,WAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,QAFP,CAGE,UAAU,CAAC,WAHb,CAIE,UAAU,KAJZ,uBAME,KAAC,SAAD,IANF,EAPF,cAeE,KAAC,YAAD,EAAc,IAAI,CAAC,WAAnB,CAA+B,UAAU,CAAC,QAA1C,uBACE,KAAC,YAAD,IADF,EAfF,GADF,EADF,EAFF,GADoB,cA4BpB,KAAC,OAAD,IA9BJ,GADF,CAmCD","sourcesContent":["import { useEffect, Suspense, lazy } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Switch } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar\";\nimport Loader from \"./components/Loader\";\nimport Container from \"./components/Container\";\nimport Preview from \"./components/Preview\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport { authOperations, authSelectors } from \"./redux/auth\";\nimport { contactsSelectors } from \"./redux/contacts\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactView\"));\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isFetchingCurrentUser = useSelector(authSelectors.getIsLoggedIn);\n  const isLoadingContacts = useSelector(contactsSelectors.getLoading);\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n  return (\n    <>\n      {isLoadingContacts && <Loader />}\n      {isFetchingCurrentUser ? (\n        <>\n          <AppBar />\n          <Container>\n            <Switch>\n              <Suspense fallback={<Loader />}>\n                <PublicRoute exact path=\"/\">\n                  <HomeView />\n                </PublicRoute>\n                <PublicRoute exact path=\"/register\" restricted>\n                  <RegisterView />\n                </PublicRoute>\n                <PublicRoute\n                  exact\n                  path=\"/login\"\n                  redirectTo=\"/contacts\"\n                  restricted\n                >\n                  <LoginView />\n                </PublicRoute>\n                <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n                  <ContactsView />\n                </PrivateRoute>\n              </Suspense>\n            </Switch>\n          </Container>\n        </>\n      ) : (\n        <Preview />\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}